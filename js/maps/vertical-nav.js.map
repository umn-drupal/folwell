{"version":3,"sources":["vertical-nav.js"],"names":["Drupal","$","behaviors","folwellVerticalNav","attach","self","this","menu","parents","find","each","index","element","el","trigger","children","parent","addClass","off","on","click","proxy","event","preventDefault","data","hasClass","removeClass","target","attr","slideToggle","first","focus","removeAttr","slideUp","jQuery"],"mappings":"CAAA,SAAUA,EAAQC,GAChBD,EAAOE,UAAUC,oBACfC,OAAQ,WACN,KAAMC,GAAOC,KACXC,EAAON,EAAE,4BACTO,EAAUD,EAAKE,KAAK,uBACtBD,GAAQE,KAAK,SAASC,EAAOC,GAC3B,KAAMC,GAAKZ,EAAEW,GACXE,EAAUD,EAAGE,SAAS,gBACtBC,EAASf,EAAEK,KACbU,GAAOC,SAAS,eAChBH,EAAQI,IAAI,SAASC,IAAIC,MAASnB,EAAEoB,MAAMhB,EAAKe,MAAOf,IAAQ,MAAOW,OAAQA,EAAQT,KAAMM,EAAGE,SAAS,cAG3GK,MAAO,SAASE,GACdA,EAAMC,iBACFD,EAAME,KAAKR,OAAOS,SAAS,gBAC7BH,EAAME,KAAKR,OAAOU,YAAY,eAAeT,SAAS,eACtDhB,EAAEqB,EAAMK,QAAQC,KAAK,gBAAiB,QACtCN,EAAME,KAAKjB,KAAKsB,YAAY,WAC1B5B,EAAEK,MAAMG,KAAK,aAAaqB,QAAQC,WAE3BT,EAAME,KAAKR,OAAOS,SAAS,iBACpCxB,EAAEqB,EAAMK,QAAQK,WAAW,iBAC3BV,EAAME,KAAKR,OAAOU,YAAY,eAAeT,SAAS,eACtDK,EAAME,KAAKjB,KAAK0B,cAIrBjC,OAAQkC","file":"../vertical-nav.js","sourcesContent":["(function(Drupal, $) {\n  Drupal.behaviors.folwellVerticalNav = {\n    attach: function() {\n      const self = this,\n        menu = $('nav.folwell-vertical-nav'),\n        parents = menu.find('.menu-item--expanded');\n      parents.each(function(index, element) {\n        const el = $(element),\n          trigger = el.children('.expand-slug'),\n          parent = $(this);\n        parent.addClass('menu-closed');\n        trigger.off('click').on({'click': $.proxy(self.click, self)}, null, {parent: parent, menu: el.children('.menu')});\n      });\n    },\n    click: function(event) {\n      event.preventDefault();\n      if (event.data.parent.hasClass('menu-closed')) {\n        event.data.parent.removeClass('menu-closed').addClass('menu-opened');\n        $(event.target).attr('aria-expanded', 'true');\n        event.data.menu.slideToggle(function() {\n          $(this).find('button, a').first().focus();\n        });\n      } else if (event.data.parent.hasClass('menu-opened')) {\n        $(event.target).removeAttr('aria-expanded');\n        event.data.parent.removeClass('menu-opened').addClass('menu-closed');\n        event.data.menu.slideUp();\n      }\n    }\n  };\n})(Drupal, jQuery);\n"]}