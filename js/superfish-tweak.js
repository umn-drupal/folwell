!function(n,a){n.behaviors.superfishTweak={attach:function(){var n=a(".sf-horizontal"),e=this;this.init(n),n.find("a.menuparent, span.nolink").attr("aria-haspopup","true").attr("aria-expanded","false"),this.removeTabIndex(n),a(document).on({mouseup:function(a){n.not(a.target)&&0===n.has(a.target).length&&e.removeTabIndex(n)},keyup:function(n){27===n.which&&a(document).trigger("mouseup")},focusin:function(e){0===n.has(e.target).length&&a(document).trigger("mouseup")}})},init:function(n){var e,t=this,i=n.children("li.menuparent");i.length>0&&(i.unbind("mouseenter mouseleave"),i.find("a, span.nolink").unbind("focus blur"),e=i.children("a.menuparent, span.nolink"),e.on({"click touchstart":a.proxy(t.handleClick,t),"keyup keydown":a.proxy(t.handleKey,t)})),n.children("li").children("a, span.nolink").attr("tabindex","0");var r=n.parent("li").siblings(".menuparent").children("ul");r.each(function(n,e){var i=a(e);t.deInit(i)})},deInit:function(n){this.removeTabIndex(n),n.find("a.menuparent, span.nolink").off("keyup keydown").off("click touchstart",a.proxy(this.handleClick,this))},handleKey:function(n){32!==n.which&&13!==n.which||(n.preventDefault(),"keyup"===n.type&&a(n.target).trigger("click"))},handleClick:function(n){var e,t,i=a(n.target);e=i.hasClass("sf-clicked"),t=i.siblings("ul"),e?(i.parent("li").siblings(".menuparent").children("a.menuparent, span.nolink").attr("aria-haspopup","true").attr("aria-expanded","false"),i.attr("aria-haspopup","false").attr("aria-expanded","true"),this.init(t)):(i.attr("aria-haspopup","true").attr("aria-expanded","false"),this.deInit(t))},removeTabIndex:function(n){var a;a=n.hasClass("sf-horizontal")?n.find(".sf-depth-2 a, .sf-depth-2 span.nolink"):n.find("a, span.nolink"),a.attr("tabindex","-1")}}}(Drupal,jQuery);
//# sourceMappingURL=maps/superfish-tweak.js.map
